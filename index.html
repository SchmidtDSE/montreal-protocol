<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Montreal Policy Simulation</title>
    <link
      href="/third_party/tabby-ui.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="/style/style.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <header>
      <h1>Montreal Policy Simulation</h1>
      Online open source / open science engine for business as usual and policy
      simulation on HFCs. This webpage enables exploration and analysis of
      potential outcomes for multiple substances and applications under
      different scenarios.
      <div class="file-buttons buttons-panel">
        <a href="#" id="new-file-button" class="secondary">New File</a>
        <a href="#" id="load-file-button" class="secondary">Load File</a>
        <a
          href="#"
          download="simulation.qta"
          id="save-file-button"
          class="secondary"
          >Save File</a
        >

        <dialog id="load-file-dialog">
          <h2>Open Analysis</h2>
          <p>
            Note that this will override code currently entered into the
            application.
          </p>
          <div><label for="upload-file">File (.qta recommended):</label></div>
          <div>
            <input
              type="file"
              class="upload-file"
              id="upload-file"
              name="upload-file"
            />
          </div>
          <div class="dialog-buttons bold-buttons">
            <a href="#" class="load-button primary">Open</a>
            <a href="#" class="cancel-button destructive">Cancel</a>
          </div>
        </dialog>
      </div>
    </header>

    <main>
      <section id="editor">
        <h2>Editor</h2>
        <ul id="editor-tabs" data-tabs>
          <li><a data-tabby-default href="#ui-editor-pane">Basic</a></li>
          <li><a href="#code-editor-pane">Advanced</a></li>
        </ul>
        <div id="ui-editor-pane">
          <div class="available-contents">
            <div class="ui-editor-sections">
              <div class="ui-editor-section applications">
                <h3>Applications</h3>
                <ul class="item-list"></ul>
                <div class="add-link-pane bold-buttons">
                  <a href="#add-application" class="add-link secondary"
                    >Add Application</a
                  >
                </div>
                <dialog class="dialog">
                  <h2><span class="action-title"></span> Application</h2>
                  <div class="instructions">
                    An application is a type of use which may use many different
                    subtances. For example, an application may be "commerical
                    ACs" for commerical air conditioners.
                  </div>
                  <div class="contents">
                    <div class="form-group">
                      <div>
                        <label for="edit-application-name">Name:</label>
                      </div>
                      <div>
                        <input
                          type="text"
                          name="edit-application-name"
                          class="edit-application-name-input long"
                          autofocus
                        />
                      </div>
                    </div>
                  </div>
                  <div class="dialog-buttons bold-buttons">
                    <a href="#ui-editor-sections" class="save-button primary"
                      >Save</a
                    >
                    <a
                      href="#ui-editor-sections"
                      class="cancel-button destructive"
                      >Cancel</a
                    >
                  </div>
                </dialog>
              </div>

              <div></div>

              <div class="ui-editor-section consumption inactive">
                <h3>Consumption</h3>
                <ul class="item-list"></ul>
                <div class="add-link-pane bold-buttons">
                  <a href="#add-consumption" class="add-link secondary"
                    >Add consumption</a
                  >
                </div>
                <dialog class="dialog">
                  <h2><span class="action-title"></span> Consumption</h2>
                  <div class="instructions">
                    A consumption records describes use of a single substance
                    like HFC-134a in a single application like domestic
                    refrigeration.
                  </div>
                  <div class="contents">
                    <ul id="consumption-tabs" class="tabs" data-tabs>
                      <li>
                        <a data-tabby-default href="#consumption-general"
                          >General</a
                        >
                      </li>
                      <li><a href="#consumption-equipment">Equipment</a></li>
                      <li><a href="#consumption-start">Start</a></li>
                      <li><a href="#consumption-change">Change</a></li>
                      <li><a href="#consumption-limit">Limit</a></li>
                    </ul>
                    <div id="consumption-general">
                      <div class="instructions">
                        This tab collects information about the substance and
                        application for this consumption record.
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-consumption-substance"
                            >Substance:</label
                          >
                        </div>
                        <div>
                          <input
                            type="text"
                            name="edit-consumption-substance"
                            class="edit-consumption-substance-input long"
                            autofocus
                          />
                        </div>
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-consumption-application"
                            >Application:</label
                          >
                        </div>
                        <div>
                          <span class="sel long">
                            <select
                              id="edit-consumption-application"
                              name="edit-consumption-application"
                              class="edit-consumption-application-input application-select"
                            ></select>
                          </span>
                        </div>
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-consumption-consumption"
                            >Equivalency:</label
                          >
                        </div>
                        <div>
                          <input
                            type="text"
                            name="edit-consumption-consumption"
                            class="edit-consumption-consumption-input mid"
                          />
                          <span class="sel mid">
                            <select
                              name="edit-consumption-consumption-units"
                              class="edit-consumption-consumption-units-input"
                              aria-label="Units of initial charge"
                            >
                              <option value="kg">kg</option>
                              <option value="mt">mt</option>
                              <option value="tCO2e">tCO2e</option>
                              <option value="units">units</option>
                              <option value="kg / year">kg / year</option>
                              <option value="mt / year">mt / year</option>
                              <option value="tCO2e / year">tCO2e / year</option>
                              <option value="units / year">units / year</option>
                              <option value="kg / unit">kg / unit</option>
                              <option value="mt / unit">mt / unit</option>
                              <option value="tCO2e / unit">tCO2e / unit</option>
                              <option value="tCO2e / kg">tCO2e / kg</option>
                              <option value="tCO2e / mt">tCO2e / mt</option>
                              <option value="%">%</option>
                              <option value="% / year">% / year</option>
                            </select>
                          </span>
                        </div>
                      </div>
                    </div>
                    <div id="consumption-equipment">
                      <div class="instructions">
                        This tab models the equipment that uses this substance
                        for this application.
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-consumption-initial-charge-domestic"
                            >Domestically manufactured equipment initial
                            charge:</label
                          >
                        </div>
                        <div>
                          <input
                            type="text"
                            name="edit-consumption-initial-charge-domestic"
                            class="edit-consumption-initial-charge-domestic-input mid"
                          />
                          <span class="sel mid">
                            <select
                              name="initial-charge-domestic-units"
                              class="initial-charge-domestic-units-input"
                              aria-label="Units of initial charge"
                            >
                              <option value="kg">kg</option>
                              <option value="mt">mt</option>
                              <option value="tCO2e">tCO2e</option>
                              <option value="units">units</option>
                              <option value="kg / year">kg / year</option>
                              <option value="mt / year">mt / year</option>
                              <option value="tCO2e / year">tCO2e / year</option>
                              <option value="units / year">units / year</option>
                              <option value="kg / unit">kg / unit</option>
                              <option value="mt / unit">mt / unit</option>
                              <option value="tCO2e / unit">tCO2e / unit</option>
                              <option value="tCO2e / kg">tCO2e / kg</option>
                              <option value="tCO2e / mt">tCO2e / mt</option>
                              <option value="%">%</option>
                              <option value="% / year">% / year</option>
                            </select>
                          </span>
                        </div>
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-consumption-initial-charge-import"
                            >Imported equipment initial charge:</label
                          >
                        </div>
                        <div>
                          <input
                            type="text"
                            name="edit-consumption-initial-charge-import"
                            class="edit-consumption-initial-charge-import-input mid"
                          />
                          <span class="sel mid">
                            <select
                              name="initial-charge-import-units"
                              class="initial-charge-import-units-input"
                              aria-label="Units of initial charge"
                            >
                              <option value="kg">kg</option>
                              <option value="mt">mt</option>
                              <option value="tCO2e">tCO2e</option>
                              <option value="units">units</option>
                              <option value="kg / year">kg / year</option>
                              <option value="mt / year">mt / year</option>
                              <option value="tCO2e / year">tCO2e / year</option>
                              <option value="units / year">units / year</option>
                              <option value="kg / unit">kg / unit</option>
                              <option value="mt / unit">mt / unit</option>
                              <option value="tCO2e / unit">tCO2e / unit</option>
                              <option value="tCO2e / kg">tCO2e / kg</option>
                              <option value="tCO2e / mt">tCO2e / mt</option>
                              <option value="%">%</option>
                              <option value="% / year">% / year</option>
                            </select>
                          </span>
                        </div>
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-consumption-retirement"
                            >Amount of equipment retired annually:</label
                          >
                        </div>
                        <div>
                          <input
                            type="text"
                            name="edit-consumption-retirement"
                            class="edit-consumption-retirement-input mid"
                          />
                          <span class="sel mid">
                            <select
                              name="retirement-units"
                              class="retirement-units-input"
                              aria-label="Units of equipment annual retirement"
                            >
                              <option value="kg">kg</option>
                              <option value="mt">mt</option>
                              <option value="tCO2e">tCO2e</option>
                              <option value="units">units</option>
                              <option value="kg / year">kg / year</option>
                              <option value="mt / year">mt / year</option>
                              <option value="tCO2e / year">tCO2e / year</option>
                              <option value="units / year">units / year</option>
                              <option value="kg / unit">kg / unit</option>
                              <option value="mt / unit">mt / unit</option>
                              <option value="tCO2e / unit">tCO2e / unit</option>
                              <option value="tCO2e / kg">tCO2e / kg</option>
                              <option value="tCO2e / mt">tCO2e / mt</option>
                              <option value="%">%</option>
                              <option value="% / year">% / year</option>
                            </select>
                          </span>
                        </div>
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-consumption-recharge-population"
                            >Amount of equipment recharged annually:</label
                          >
                        </div>
                        <div>
                          <input
                            type="text"
                            name="edit-consumption-recharge-population"
                            class="edit-consumption-recharge-population-input mid"
                          />
                          <span class="sel mid">
                            <select
                              name="recharge-population-units"
                              class="recharge-population-units-input"
                              aria-label="Units of equipment recharge frequency"
                            >
                              <option value="kg">kg</option>
                              <option value="mt">mt</option>
                              <option value="tCO2e">tCO2e</option>
                              <option value="units">units</option>
                              <option value="kg / year">kg / year</option>
                              <option value="mt / year">mt / year</option>
                              <option value="tCO2e / year">tCO2e / year</option>
                              <option value="units / year">units / year</option>
                              <option value="kg / unit">kg / unit</option>
                              <option value="mt / unit">mt / unit</option>
                              <option value="tCO2e / unit">tCO2e / unit</option>
                              <option value="tCO2e / kg">tCO2e / kg</option>
                              <option value="tCO2e / mt">tCO2e / mt</option>
                              <option value="%">%</option>
                              <option value="% / year">% / year</option>
                            </select>
                          </span>
                        </div>
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-consumption-recharge-volume"
                            >Recharge volume:</label
                          >
                        </div>
                        <div>
                          <input
                            type="text"
                            name="edit-consumption-recharge-volume"
                            class="edit-consumption-recharge-volume-input mid"
                          />
                          <span class="sel mid">
                            <select
                              name="recharge-volume-units"
                              class="recharge-volume-units-input"
                              aria-label="Units of equipment recharge frequency"
                            >
                              <option value="kg">kg</option>
                              <option value="mt">mt</option>
                              <option value="tCO2e">tCO2e</option>
                              <option value="units">units</option>
                              <option value="kg / year">kg / year</option>
                              <option value="mt / year">mt / year</option>
                              <option value="tCO2e / year">tCO2e / year</option>
                              <option value="units / year">units / year</option>
                              <option value="kg / unit">kg / unit</option>
                              <option value="mt / unit">mt / unit</option>
                              <option value="tCO2e / unit">tCO2e / unit</option>
                              <option value="tCO2e / kg">tCO2e / kg</option>
                              <option value="tCO2e / mt">tCO2e / mt</option>
                              <option value="%">%</option>
                              <option value="% / year">% / year</option>
                            </select>
                          </span>
                        </div>
                      </div>
                    </div>
                    <div id="consumption-start">
                      <div class="instructions">
                        This tab sets the starting values for different sales
                        streams. Domestic refers to substance both produced and
                        equalsd within the country.
                      </div>
                      <div class="dialog-list level-list"></div>
                      <div class="dialog-sub-buttons bold-buttons">
                        <a href="#" class="add-start-button secondary"
                          >Add Level</a
                        >
                      </div>
                    </div>
                    <div id="consumption-change">
                      <div class="instructions">
                        This tab indicates how sales change over time.
                      </div>
                      <div class="dialog-list change-list"></div>
                      <div class="dialog-sub-buttons bold-buttons">
                        <a href="#" class="add-change-button secondary"
                          >Add Change</a
                        >
                      </div>
                    </div>
                    <div id="consumption-limit">
                      <div class="instructions">
                        This tab specifies limits (minimum and maximum).
                        Optionally, these limits can displace other substances
                        or streams. For example, in a 100 kg cap on A offsetting
                        B, a cap would cause 150 kg of A and 0 kg of B to become
                        100 and 50 kg respectively.
                      </div>
                      <div class="dialog-list limit-list"></div>
                      <div class="dialog-sub-buttons bold-buttons">
                        <a href="#" class="add-limit-button secondary"
                          >Add Limit</a
                        >
                      </div>
                    </div>
                  </div>
                  <div class="dialog-buttons bold-buttons">
                    <a href="#ui-editor-sections" class="save-button primary"
                      >Save</a
                    >
                    <a
                      href="#ui-editor-sections"
                      class="cancel-button destructive"
                      >Cancel</a
                    >
                  </div>
                </dialog>
              </div>

              <div class="ui-editor-section policies inactive">
                <h3>Policies</h3>
                <ul class="item-list"></ul>
                <div class="add-link-pane bold-buttons">
                  <a href="#add-policy" class="add-link secondary"
                    >Add Policy</a
                  >
                </div>
                <dialog class="dialog">
                  <h2><span class="action-title"></span> Policy</h2>
                  <div class="instructions">
                    Policies can modify substances within applications. They can
                    also be combined into a package tested in a simulation.
                  </div>
                  <div class="contents">
                    <ul id="policy-tabs" class="tabs" data-tabs>
                      <li>
                        <a data-tabby-default href="#policy-general">General</a>
                      </li>
                      <li><a href="#policy-recycle">Recycle</a></li>
                      <li><a href="#policy-replace">Replace</a></li>
                      <li><a href="#policy-set">Set</a></li>
                      <li><a href="#policy-change">Change</a></li>
                      <li><a href="#policy-limit">Limit</a></li>
                    </ul>
                    <div id="policy-general">
                      <div class="instructions">
                        This tab collects information about the name of the
                        policy and the target substance and application. This is
                        the substance being limited, recycled, or replaced with
                        something else.
                      </div>
                      <div class="form-group">
                        <div><label for="edit-policy-name">Name:</label></div>
                        <div>
                          <input
                            type="text"
                            name="edit-policy-name"
                            class="edit-policy-name-input long"
                            autofocus
                          />
                        </div>
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-policy-application"
                            >Application:</label
                          >
                        </div>
                        <div>
                          <span class="sel long">
                            <select
                              id="edit-policy-application"
                              name="edit-policy-application"
                              class="edit-policy-application-input application-select"
                            ></select>
                          </span>
                        </div>
                      </div>
                      <div class="form-group">
                        <div>
                          <label for="edit-policy-substance">Substance:</label>
                        </div>
                        <div>
                          <span class="sel long">
                            <select
                              id="edit-policy-substance"
                              name="edit-policy-substance"
                              class="edit-policy-substance-input substances-select"
                            ></select>
                          </span>
                        </div>
                      </div>
                    </div>
                    <div id="policy-recycle">
                      <div class="instructions">
                        This tab specifies a recycling program in which
                        substance is recovered during servicing. There may be
                        yield loss in processing substances prior to reuse.
                      </div>
                      <div class="dialog-list recycling-list"></div>
                      <div class="dialog-sub-buttons bold-buttons">
                        <a href="#" class="add-recycling-button secondary"
                          >Add Recycling</a
                        >
                      </div>
                    </div>
                    <div id="policy-replace">
                      <div class="instructions">
                        This tab specifies replacement of the policy's target
                        substance with another compatible substance.
                      </div>
                      <div class="dialog-list replace-list"></div>
                      <div class="dialog-sub-buttons bold-buttons">
                        <a href="#" class="add-replace-button secondary"
                          >Add Replacement</a
                        >
                      </div>
                    </div>
                    <div id="policy-set">
                      <div class="instructions">
                        This tab sets streams such as imports or equipment to
                        specific levels.
                      </div>
                      <div class="dialog-list level-list"></div>
                      <div class="dialog-sub-buttons bold-buttons">
                        <a href="#" class="add-level-button secondary"
                          >Add Level</a
                        >
                      </div>
                    </div>
                    <div id="policy-change">
                      <div class="instructions">
                        This tab changes streams such as imports or equipment
                        continually over a period of time.
                      </div>
                      <div class="dialog-list change-list"></div>
                      <div class="dialog-sub-buttons bold-buttons">
                        <a href="#" class="add-change-button secondary"
                          >Add Change</a
                        >
                      </div>
                    </div>
                    <div id="policy-limit">
                      <div class="instructions">
                        This tab imposes limits like to overall sales.
                        Optionally, these limits can displace other substances
                        or streams. For example, in a 100 kg cap on A offsetting
                        B, a cap would cause 150 kg of A and 0 kg of B to become
                        100 and 50 kg respectively.
                      </div>
                      <div class="dialog-list limit-list"></div>
                      <div class="dialog-sub-buttons bold-buttons">
                        <a href="#" class="add-limit-button secondary"
                          >Add Limit</a
                        >
                      </div>
                    </div>
                  </div>
                  <div class="dialog-buttons bold-buttons">
                    <a href="#ui-editor-sections" class="save-button primary"
                      >Save</a
                    >
                    <a
                      href="#ui-editor-sections"
                      class="cancel-button destructive"
                      >Cancel</a
                    >
                  </div>
                </dialog>
              </div>

              <div></div>

              <div class="ui-editor-section simulations inactive">
                <h3>Simulations</h3>
                <ul class="item-list"></ul>
                <div class="add-link-pane bold-buttons">
                  <a href="#add-simulation" class="add-link secondary"
                    >Add Simulation</a
                  >
                </div>
                <dialog class="dialog">
                  <h2><span class="action-title"></span> Simulation</h2>
                  <div class="instructions">
                    Simulations are collections of policies. If no policies are
                    selected, this will simulate business as usual (no policy
                    interventions).
                  </div>
                  <div class="contents">
                    <div class="form-group">
                      <div><label for="edit-simulation-name">Name:</label></div>
                      <div>
                        <input
                          type="text"
                          name="edit-simulation-name"
                          class="edit-simulation-name-input long"
                          autofocus
                        />
                      </div>
                    </div>
                    <div class="form-group">
                      <div>
                        <label for="edit-simulation-start">Start year:</label>
                      </div>
                      <div>
                        <input
                          type="text"
                          name="edit-simulation-start"
                          class="edit-simulation-start-input long"
                        />
                      </div>
                    </div>
                    <div class="form-group">
                      <div>
                        <label for="edit-simulation-end">End year:</label>
                      </div>
                      <div>
                        <input
                          type="text"
                          name="edit-simulation-end"
                          class="edit-simulation-end-input long"
                        />
                      </div>
                    </div>
                    <div class="form-group">
                      <div>
                        <label for="edit-simulation-policies">Policies:</label>
                      </div>
                      <div class="dialog-list policy-sim-list small"></div>
                    </div>
                    <div class="dialog-buttons bold-buttons">
                      <a href="#ui-editor-sections" class="save-button primary"
                        >Save</a
                      >
                      <a
                        href="#ui-editor-sections"
                        class="cancel-button destructive"
                        >Cancel</a
                      >
                    </div>
                  </div>
                </dialog>
              </div>
            </div>
            <div class="advanced-link-pane">
              Need more control? Switch to the
              <a class="advanced-editor-link" href="#code-editor-pane"
                >code-based advanced editor</a
              >.
            </div>
          </div>
          <div class="not-available-contents">
            The analysis you are currently working on uses features not
            available in the basic editor. Instead, switch to the
            <a class="advanced-editor-link" href="#code-editor-pane"
              >code-based advanced editor</a
            >.
          </div>
        </div>
        <div id="code-editor-pane">
          <div id="code-editor">
            <div id="code-editor-inner" class="inner"></div>
            <div class="error-display"></div>
          </div>
          <div id="code-buttons-panel" class="buttons-panel">
            <div id="available-panel">
              <a class="primary" id="run-button" href="#loading">Run</a>
            </div>
            <div id="loading">Loading please wait...</div>
          </div>
        </div>
      </section>
      <section id="results">
        <h2>Results</h2>

        <div class="scorecards" id="scorecards">
          <div class="scorecard" id="consumption-scorecard">
            <div class="label">
              <label for="consumption-radio"
                ><input
                  id="consumption-radio"
                  class="metric-radio"
                  type="radio"
                  name="metric"
                  value="consumption"
                  checked="checked"
                />
                Consumption</label
              >
            </div>
            <div class="value"></div>
            <div class="units">
              MtCO2e / yr <span class="current-year"></span>
            </div>
          </div>

          <div></div>

          <div class="scorecard inactive" id="sales-scorecard">
            <div class="label">
              <label for="sales-radio"
                ><input
                  id="sales-radio"
                  class="metric-radio"
                  type="radio"
                  name="metric"
                  value="sales"
                />
                Sales</label
              >
            </div>
            <div class="value"></div>
            <div class="units">mt / yr <span class="current-year"></span></div>
          </div>

          <div></div>

          <div class="scorecard inactive" id="equipment-scorecard">
            <div class="label">
              <label for="population-radio"
                ><input
                  id="population-radio"
                  class="metric-radio"
                  type="radio"
                  name="metric"
                  value="population"
                />
                Equipment</label
              >
            </div>
            <div class="value"></div>
            <div class="units">units <span class="current-year"></span></div>
          </div>
        </div>

        <div id="center-chart-holder">
          <div id="top-chart-title">
            Showing
            <span class="sel mid">
              <select
                class="metric-select"
                aria-label="Metric selection dropdown menu"
              >
                <option value="consumption">Consumption</option>
                <option value="sales">Sales</option>
                <option value="population">Equipment (Population)</option>
              </select>
            </span>
            summed by
            <span class="sel mid">
              <select
                class="dimension-select"
                aria-label="Dimension selection dropdown menu"
              >
                <option value="simulations">Simulation Scenario</option>
                <option value="applications">Applications</option>
                <option value="substances">Substances</option>
              </select>
            </span>
            .
          </div>
          <canvas
            class="center-chart"
            id="center-chart"
            aria-describedby="top-chart-title"
          ></canvas>
          <div id="bottom-chart-title">
            Filter for
            <span class="sel mid"
              ><select class="scenario-select"></select
            ></span>
            <span class="sel mid"
              ><select class="application-select"></select
            ></span>
            <span class="sel mid"
              ><select class="substance-select"></select
            ></span>
            .
          </div>
        </div>

        <div class="dimensions" id="dimensions">
          <div class="dimension" id="simulations-dimension">
            <div class="title">
              <label for="simulations-radio"
                ><input
                  id="simulations-radio"
                  class="dimension-radio"
                  type="radio"
                  name="dimension"
                  value="simulations"
                  checked="checked"
                />
                Simulations</label
              >
            </div>
            <div class="list"></div>
            <div class="axis">
              <div class="left-tick">0</div>
              <div class="units-tick-parent">
                <div class="units-tick"></div>
                <div class="years-tick"></div>
              </div>
              <div class="right-tick"></div>
            </div>
          </div>

          <div></div>

          <div class="dimension inactive" id="applications-dimension">
            <div class="title">
              <label for="applications-radio"
                ><input
                  id="applications-radio"
                  class="dimension-radio"
                  type="radio"
                  name="dimension"
                  value="applications"
                />
                Applications</label
              >
            </div>
            <div class="list"></div>
            <div class="axis">
              <div class="left-tick">0</div>
              <div class="units-tick-parent">
                <div class="units-tick"></div>
                <div class="years-tick"></div>
              </div>
              <div class="right-tick"></div>
            </div>
          </div>

          <div></div>

          <div class="dimension inactive" id="substances-dimension">
            <div class="title">
              <label for="substances-radio"
                ><input
                  id="substances-radio"
                  class="dimension-radio"
                  type="radio"
                  name="dimension"
                  value="substances"
                />
                Substances</label
              >
            </div>
            <div class="list"></div>
            <div class="axis">
              <div class="left-tick">0</div>
              <div class="units-tick-parent">
                <div class="units-tick"></div>
                <div class="years-tick"></div>
              </div>
              <div class="right-tick"></div>
            </div>
          </div>
        </div>

        <div class="buttons-panel" ="export-panel">
          <a
            class="primary"
            download="export.csv"
            id="export-button"
            href="#export"
            >Export Spreadsheet</a
          >
        </div>
      </section>
    </main>

    <script type="text/template" id="set-command-template">
      <div class="set-command form-group">
        Set
        <span class="sel long">
          <select class="set-target-input" aria-label="Target for set command">
            <option value="manufacture">domenstic manufacture</option>
            <option value="import">import</option>
            <option value="sales">all sales</option>
            <option value="equipment">equipment</option>
            <option value="priorEquipment">prior equipment</option>
          </select>
        </span>
        to
        <input type="text" class="set-amount-input short" aria-label="Amount for set command">
        <span class="sel mid">
          <select class="set-units-input" aria-label="Units for set command">
            <option value="kg">kg</option>
            <option value="mt">mt</option>
            <option value="tCO2e">tCO2e</option>
            <option value="units">units</option>
            <option value="kg / year">kg / year</option>
            <option value="mt / year">mt / year</option>
            <option value="tCO2e / year">tCO2e / year</option>
            <option value="units / year">units / year</option>
            <option value="kg / unit">kg / unit</option>
            <option value="mt / unit">mt / unit</option>
            <option value="tCO2e / unit">tCO2e / unit</option>
            <option value="tCO2e / kg">tCO2e / kg</option>
            <option value="tCO2e / mt">tCO2e / mt</option>
            <option value="%">%</option>
            <option value="% / year">% / year</option>
          </select>
        </span>
        <span class="duration-subcomponent">
          <span class="sel mid">
            <select class="duration-type-input" aria-label="Duration type for command">
              <option value="in year">in year</option>
              <option value="during all years">during all years</option>
              <option value="starting in year">starting in year</option>
              <option value="ending in year">ending in year</option>
              <option value="during years">during years</option>
            </select>
          </span>
          <input type="text" class="duration-start short" aria-label="Start year of substance import">
          <span class="duration-to">to</span>
          <input type="text" class="duration-end short" aria-label="End year of substance import"> .
        </span>
        - <a href="#" class="delete-command-link">delete</a>
      </div>
    </script>

    <script type="text/template" id="change-command-template">
      <div class="change-command form-group">
        <div>
          Change
            <span class="sel long">
              <select class="change-target-input" aria-label="Target for change command">
                <option value="manufacture">domenstic manufacture</option>
                <option value="import">import</option>
                <option value="sales">all sales</option>
                <option value="equipment">equipment</option>
                <option value="priorEquipment">prior equipment</option>
              </select>
            </span>
          by
        </div>
        <span class="sel short">
          <select class="change-sign-input" aria-label="Sign of substance change">
            <option value="+">+</option>
            <option value="-">-</option>
          </select>
        </span>
        <input type="text" class="change-amount-input short" aria-label="Change amount">
        <span class="sel mid">
          <select class="change-units-input" aria-label="Units of change">
            <option value="kg">kg</option>
            <option value="mt">mt</option>
            <option value="tCO2e">tCO2e</option>
            <option value="units">units</option>
            <option value="kg / year">kg / year</option>
            <option value="mt / year">mt / year</option>
            <option value="tCO2e / year">tCO2e / year</option>
            <option value="units / year">units / year</option>
            <option value="kg / unit">kg / unit</option>
            <option value="mt / unit">mt / unit</option>
            <option value="tCO2e / unit">tCO2e / unit</option>
            <option value="tCO2e / kg">tCO2e / kg</option>
            <option value="tCO2e / mt">tCO2e / mt</option>
            <option value="%">%</option>
            <option value="% / year">% / year</option>
          </select>
        </span>
        <span class="duration-subcomponent">
          <span class="sel mid">
            <select class="duration-type-input" aria-label="Duration type for command">
              <option value="in year">in year</option>
              <option value="during all years">during all years</option>
              <option value="starting in year">starting in year</option>
              <option value="ending in year">ending in year</option>
              <option value="during years">during years</option>
            </select>
          </span>
          <input type="text" class="duration-start short" aria-label="Start year of substance import">
          <span class="duration-to">to</span>
          <input type="text" class="duration-end short" aria-label="End year of substance import"> .
        </span>
        - <a href="#" class="delete-command-link">delete</a>
      </div>
    </script>

    <script type="text/template" id="limit-command-template">
      <div class="limit-command form-group">
        <div>
          <span class="sel mid">
            <select class="limit-type-input" aria-label="Type of limit command">
              <option value="cap">cap</option>
              <option value="floor">floor</option>
            </select>
          </span>
          <span class="sel long">
            <select class="limit-target-input" aria-label="Target for limit command">
              <option value="manufacture">domenstic manufacture</option>
              <option value="import">import</option>
              <option value="sales">all sales</option>
              <option value="equipment">equipment</option>
              <option value="priorEquipment">prior equipment</option>
            </select>
          </span>
          at
        </div>
        <input type="text" class="limit-amount-input short" aria-label="Amount of limit">
        <span class="sel mid">
          <select class="limit-units-input" aria-label="Units of limit">
            <option value="kg">kg</option>
            <option value="mt">mt</option>
            <option value="tCO2e">tCO2e</option>
            <option value="units">units</option>
            <option value="kg / year">kg / year</option>
            <option value="mt / year">mt / year</option>
            <option value="tCO2e / year">tCO2e / year</option>
            <option value="units / year">units / year</option>
            <option value="kg / unit">kg / unit</option>
            <option value="mt / unit">mt / unit</option>
            <option value="tCO2e / unit">tCO2e / unit</option>
            <option value="tCO2e / kg">tCO2e / kg</option>
            <option value="tCO2e / mt">tCO2e / mt</option>
            <option value="%">%</option>
            <option value="% / year">% / year</option>
          </select>
        </span>
        displacing
        <span class="sel mid">
          <select class="displacing-input" aria-label="The source of displacement to meet limit">
            <optgroup label="None">
              <option value="">nothing</option>
            </optgroup>
            <optgroup label="Streams">
              <option value="manufacture">domenstic manufacture</option>
              <option value="import">import</option>
              <option value="sales">all sales</option>
              <option value="equipment">equipment</option>
              <option value="priorEquipment">prior equipment</option>
            </optgroup>
            <optgroup class="substances-select" label="Substances">
            </optgroup>
          </select>
        </span>
        <span class="duration-subcomponent">
          <span class="sel mid">
            <select class="duration-type-input" aria-label="Duration type for command">
              <option value="in year">in year</option>
              <option value="during all years">during all years</option>
              <option value="starting in year">starting in year</option>
              <option value="ending in year">ending in year</option>
              <option value="during years">during years</option>
            </select>
          </span>
          <input type="text" class="duration-start short" aria-label="Start year of substance import">
          <span class="duration-to">to</span>
          <input type="text" class="duration-end short" aria-label="End year of substance import"> .
        </span>
        - <a href="#" class="delete-command-link">delete</a>
      </div>
    </script>

    <script type="text/template" id="recycle-command-template">
      <div class="recycle-command form-group">
        Recover
        <input type="text" class="recycle-amount-input short" aria-label="Amount for recycle command">
        <span class="sel mid">
          <select class="recycle-units-input" aria-label="Units for recycle command">
            <option value="kg">kg</option>
            <option value="mt">mt</option>
            <option value="tCO2e">tCO2e</option>
            <option value="units">units</option>
            <option value="kg / year">kg / year</option>
            <option value="mt / year">mt / year</option>
            <option value="tCO2e / year">tCO2e / year</option>
            <option value="units / year">units / year</option>
            <option value="kg / unit">kg / unit</option>
            <option value="mt / unit">mt / unit</option>
            <option value="tCO2e / unit">tCO2e / unit</option>
            <option value="tCO2e / kg">tCO2e / kg</option>
            <option value="tCO2e / mt">tCO2e / mt</option>
            <option value="%">%</option>
            <option value="% / year">% / year</option>
          </select>
        </span>
        with
        <input type="text" class="recycle-reuse-amount-input short" aria-label="Reuse level after yield loss for recycle command">
        <span class="sel mid">
          <select class="recycle-reuse-units-input" aria-label="Units for reuse level after yield loss">
            <option value="kg">kg</option>
            <option value="mt">mt</option>
            <option value="tCO2e">tCO2e</option>
            <option value="units">units</option>
            <option value="kg / year">kg / year</option>
            <option value="mt / year">mt / year</option>
            <option value="tCO2e / year">tCO2e / year</option>
            <option value="units / year">units / year</option>
            <option value="kg / unit">kg / unit</option>
            <option value="mt / unit">mt / unit</option>
            <option value="tCO2e / unit">tCO2e / unit</option>
            <option value="tCO2e / kg">tCO2e / kg</option>
            <option value="tCO2e / mt">tCO2e / mt</option>
            <option value="%">%</option>
            <option value="% / year">% / year</option>
          </select>
        </span>
        reuse
        <span class="duration-subcomponent">
          <span class="sel mid">
            <select class="duration-type-input" aria-label="Duration type for command">
              <option value="in year">in year</option>
              <option value="during all years">during all years</option>
              <option value="starting in year">starting in year</option>
              <option value="ending in year">ending in year</option>
              <option value="during years">during years</option>
            </select>
          </span>
          <input type="text" class="duration-start short" aria-label="Start year of substance import">
          <span class="duration-to">to</span>
          <input type="text" class="duration-end short" aria-label="End year of substance import"> .
        </span>
        - <a href="#" class="delete-command-link">delete</a>
      </div>
    </script>

    <script type="text/template" id="replace-command-template">
      <div class="replace-command form-group">
        Replace
        <input type="text" class="replace-amount-input short" aria-label="Amount for replace command">
        <span class="sel mid">
          <select class="replace-units-input" aria-label="Units for replace command">
            <option value="kg">kg</option>
            <option value="mt">mt</option>
            <option value="tCO2e">tCO2e</option>
            <option value="units">units</option>
            <option value="kg / year">kg / year</option>
            <option value="mt / year">mt / year</option>
            <option value="tCO2e / year">tCO2e / year</option>
            <option value="units / year">units / year</option>
            <option value="kg / unit">kg / unit</option>
            <option value="mt / unit">mt / unit</option>
            <option value="tCO2e / unit">tCO2e / unit</option>
            <option value="tCO2e / kg">tCO2e / kg</option>
            <option value="tCO2e / mt">tCO2e / mt</option>
            <option value="%">%</option>
            <option value="% / year">% / year</option>
          </select>
        </span>
        of
        <span class="sel long">
          <select class="replace-target-input" aria-label="Target for replace command">
            <option value="manufacture">domenstic manufacture</option>
            <option value="import">import</option>
            <option value="sales">all sales</option>
            <option value="equipment">equipment</option>
            <option value="priorEquipment">prior equipment</option>
          </select>
        </span>
        with
        <span class="sel long">
          <select class="replace-replacement-input substances-select" aria-label="Replacement substance for replace command">
          </select>
        </span>
        <span class="duration-subcomponent">
          <span class="sel mid">
            <select class="duration-type-input" aria-label="Duration type for command">
              <option value="in year">in year</option>
              <option value="during all years">during all years</option>
              <option value="starting in year">starting in year</option>
              <option value="ending in year">ending in year</option>
              <option value="during years">during years</option>
            </select>
          </span>
          <input type="text" class="duration-start short" aria-label="Start year of substance import">
          <span class="duration-to">to</span>
          <input type="text" class="duration-end short" aria-label="End year of substance import"> .
        </span>
        - <a href="#" class="delete-command-link">delete</a>
      </div>
    </script>

    <script type="text/template" id="workshop-sample">
      start default

        define application "dom refrig"

          uses substance "HFC-134a"
            equals 1000 tCO2e / mt

            # Domestic production
            initial charge with 0.5 kg / unit for manufacture
            set manufacture to 400 mt during year 1
            change manufacture by +5 % / year during years 2 to 4
            change manufacture by +4 % / year during years 5 to 7
            change manufacture by +3 % / year during years 8 to 10
            change manufacture by +2 % / year during years 11 to 13
            change manufacture by +1 % / year during years 14 to onwards

            # Trade
            initial charge with 0.25 kg / unit for import
            set import to 100 mt during year 1
            change import by +5 % / year during years 2 to 4
            change import by +4 % / year during years 5 to 7
            change import by +3 % / year during years 8 to 10
            change import by +2 % / year during years 11 to 13
            change import by +1 % / year during years 14 to onwards

            # Service
            retire 5 % / year
            recharge 10 % / year with 0.1 kg / unit

            # Historic units already deployed
            set priorEquipment to (get equipment as units * 5) units during year 1
          end substance

          uses substance "R-600a"
            equals 50 tCO2e / mt

            # Domestic production
            initial charge with 0.1 kg / unit for manufacture
            set manufacture to 100 mt during year 1
            change manufacture by +2 % / year

            # Trade
            initial charge with 0.05 kg / unit for import
            set import to 1 mt during year 1
            change import by +2 % / year

            # Service
            retire 5 % / year
            recharge 10 % / year with 0.05 kg / unit

            # Historic units already deployed
            set priorEquipment to (get equipment as units * 5) units during year 1
          end substance

        end application

        define application "com refrig"

          uses substance "HFC-134a"
            equals 1000 tCO2e / mt

            # Domestic production
            initial charge with 0.5 kg / unit for manufacture
            set manufacture to 900 mt during year 1
            change manufacture by +5 % / year during years 2 to 4
            change manufacture by +3 % / year during years 5 to 7
            change manufacture by +1 % / year during years 8 to 10
            change manufacture by -1 % / year during years 11 to 13
            change manufacture by -3 % / year during years 14 to onwards

            # Trade
            initial charge with 0.25 kg / unit for import
            set import to 100 mt during year 1
            change import by +5 % / year during years 2 to 4
            change import by +3 % / year during years 5 to 7
            change import by +1 % / year during years 8 to 10
            change import by -1 % / year during years 11 to 13
            change import by -3 % / year during years 14 to onwards

            # Service
            retire 5 % / year
            recharge 10 % / year with 0.1 kg / unit

            # Historic units already deployed
            set priorEquipment to (get equipment as units * 5) units during year 1
          end substance

          uses substance "R-600a"
            equals 50 tCO2e / mt

            # Domestic production
            initial charge with 0.1 kg / unit for manufacture
            set manufacture to 10 mt during year 1
            change manufacture by +8 % / year

            # Trade
            initial charge with 0.05 kg / unit for import
            set import to 10 mt during year 1
            change import by +8 % / year

            # Service
            retire 1 % / year
            recharge 10 % / year with 0.1 kg / unit

            # Historic units already deployed
            set priorEquipment to (get equipment as units * 5) units during year 1
          end substance

          uses substance "R-404A"
            equals 200 tCO2e / mt

            # Domestic production
            initial charge with 0.5 kg / unit for manufacture
            set manufacture to 100 mt during year 1
            change manufacture by -1 % / year

            # Trade
            initial charge with 0.5 kg / unit for import
            set import to 50 mt during year 1
            change import by -1 % / year

            # Service
            retire 5 % / year
            recharge 10 % / year with 0.1 kg / unit

            # Historic units already deployed
            set priorEquipment to (get equipment as units * 7) units during year 1
          end substance

        end application

      end default


      start policy "com recycling"

        modify application "com refrig"

          modify substance "HFC-134a"
            recover 10 % with 80 % reuse during years 2 to onwards
          end substance

        end application

      end policy


      start policy "dom retrofit"

        modify application "dom refrig"

          modify substance "HFC-134a"
            replace 20 % of sales with "R-600a"
          end substance

        end application

      end policy


      start policy "permit HFC-134a"

        modify application "com refrig"

          modify substance "HFC-134a"
            cap sales to 1400 mt displacing "R-404A" during years 1 to 5
            cap sales to 1200 mt displacing "R-404A" during years 6 to 10
            cap sales to 1000 mt displacing "R-404A" during years 11 to 15
            cap sales to 800 mt displacing "R-404A" during years 16 to 20
          end substance

          modify substance "HFC-134a"
            cap sales to 1400 mt displacing "R-404A" during years 1 to 5
            cap sales to 1200 mt displacing "R-404A" during years 6 to 10
            cap sales to 1000 mt displacing "R-404A" during years 11 to 15
            cap sales to 800 mt displacing "R-404A" during years 16 to 20
          end substance

        end application

      end policy


      start simulations

        simulate "business as usual" from years 1 to 20

        simulate "com recycling" using "com recycling" from years 1 to 20

        simulate "dom retrofit" using "dom retrofit" from years 1 to 20

        simulate "permit HFC-134a" using "permit HFC-134a" from years 1 to 20

        simulate "combined"
          using "dom retrofit"
          then "com recycling"
          then "permit HFC-134a"
        from years 1 to 20

      end simulations
    </script>

    <script type="text/javascript" src="/third_party/ace.min.js"></script>
    <script
      type="text/javascript"
      src="/third_party/ext-language_tools.js"
    ></script>
    <script type="text/javascript" src="/third_party/ext-options.js"></script>
    <script type="text/javascript" src="/third_party/ext-prompt.js"></script>
    <script type="text/javascript" src="/third_party/ext-searchbox.js"></script>

    <script type="text/javascript" src="/third_party/chart.min.js"></script>
    <script type="text/javascript" src="/third_party/d3.min.js"></script>
    <script type="text/javascript" src="/third_party/tabby.min.js"></script>

    <script
      type="text/javascript"
      src="/intermediate/static/qubectalk.js"
    ></script>

    <script type="importmap">
      {
        "imports": {
          "code_editor": "./js/code_editor.js?v=EPOCH",
          "compiler": "./js/compiler.js?v=EPOCH",
          "engine_const": "./js/engine_const.js?v=EPOCH",
          "engine_number": "./js/engine_number.js?v=EPOCH",
          "engine_state": "./js/engine_state.js?v=EPOCH",
          "engine": "./js/engine.js?v=EPOCH",
          "main": "./js/main.js?v=EPOCH",
          "report_data": "./js/report_data.js?v=EPOCH",
          "results": "./js/results.js?v=EPOCH",
          "ui_editor": "./js/ui_editor.js?v=EPOCH",
          "ui_translator": "../js/ui_translator.js?v=EPOCH"
        }
      }
    </script>

    <script type="module">
      import { main } from "main";
      main();
    </script>
  </body>
</html>
